

<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF_8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Hello world</title>

   <style>@charset "UTF-8";.bg-dark{background:#131313}.bg-dark-shade{background:#000}.bg-dark-glare{background:#3f3f3f}.bg-light,.bg-light-glare,.bg-light-shade{background:#fff}.bg-primary{background:#513aa6}.bg-primary-shade{background:#432e92}.bg-primary-glare{background:#654ac9}.bg-secondary{background:#6ac2b6}.bg-secondary-shade{background:#35a495}.bg-secondary-glare{background:#98e2d8}.bg-tertiary{background:#ffd490}.bg-tertiary-shade{background:#ffca77}.bg-tertiary-glare{background:#ffdeaa}.bg-quaternary{background:#ff7f5c}.bg-quaternary-shade{background:#f96841}.bg-quaternary-glare{background:#fe9476}.bg-quinary{background:#57b9fa}.bg-quinary-shade{background:#4ba1da}.bg-quinary-glare{background:#83c8f7}.color-dark{color:#131313}.color-dark-shade{color:#000}.color-dark-glare{color:#3f3f3f}.color-light,.color-light-glare,.color-light-shade{color:#fff}.color-primary{color:#513aa6}.color-primary-shade{color:#432e92}.color-primary-glare{color:#654ac9}.color-secondary{color:#6ac2b6}.color-secondary-shade{color:#35a495}.color-secondary-glare{color:#98e2d8}.color-tertiary{color:#ffd490}.color-tertiary-shade{color:#ffca77}.color-tertiary-glare{color:#ffdeaa}.color-quaternary{color:#ff7f5c}.color-quaternary-shade{color:#f96841}.color-quaternary-glare{color:#fe9476}.color-quinary{color:#57b9fa}.color-quinary-shade{color:#4ba1da}.color-quinary-glare{color:#83c8f7}.flow-space-300{--flow-space:0.75rem}.flow-space-400{--flow-space:1rem}.flow-space-500{--flow-space:1.33rem}.flow-space-600{--flow-space:1.77rem}.flow-space-700{--flow-space:2.36rem}.flow-space-800{--flow-space:3.15rem}.flow-space-900{--flow-space:4.2rem}.flow-space-major{--flow-space:5.6rem}.font-base{font-family:Lora,Georgia,serif}.font-sans{font-family:Raleway,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}.gap-top-300{margin-top:.75rem}.gap-top-400{margin-top:1rem}.gap-top-500{margin-top:1.33rem}.gap-top-600{margin-top:1.77rem}.gap-top-700{margin-top:2.36rem}.gap-top-800{margin-top:3.15rem}.gap-top-900{margin-top:4.2rem}.gap-top-major{margin-top:5.6rem}.leading-loose{line-height:1.7}.leading-tight{line-height:1.3}.leading-flat{line-height:1.1}.measure-micro{max-width:10ch}.measure-compact{max-width:30ch}.measure-short{max-width:40ch}.measure-long{max-width:65ch}.text-300{font-size:.75rem}.text-400{font-size:1rem}.text-500{font-size:1.33rem}.text-600{font-size:1.77rem}.text-700{font-size:2.36rem}.text-800{font-size:3.15rem}.text-900{font-size:4.2rem}.text-major{font-size:5.6rem}.weight-normal{font-weight:400}.weight-bold{font-weight:900}@media (min-width:37em){.md\:flow-space-300{--flow-space:0.75rem}.md\:flow-space-400{--flow-space:1rem}.md\:flow-space-500{--flow-space:1.33rem}.md\:flow-space-600{--flow-space:1.77rem}.md\:flow-space-700{--flow-space:2.36rem}.md\:flow-space-800{--flow-space:3.15rem}.md\:flow-space-900{--flow-space:4.2rem}.md\:flow-space-major{--flow-space:5.6rem}.md\:gap-top-300{margin-top:.75rem}.md\:gap-top-400{margin-top:1rem}.md\:gap-top-500{margin-top:1.33rem}.md\:gap-top-600{margin-top:1.77rem}.md\:gap-top-700{margin-top:2.36rem}.md\:gap-top-800{margin-top:3.15rem}.md\:gap-top-900{margin-top:4.2rem}.md\:gap-top-major{margin-top:5.6rem}.md\:measure-micro{max-width:10ch}.md\:measure-compact{max-width:30ch}.md\:measure-short{max-width:40ch}.md\:measure-long{max-width:65ch}.md\:text-300{font-size:.75rem}.md\:text-400{font-size:1rem}.md\:text-500{font-size:1.33rem}.md\:text-600{font-size:1.77rem}.md\:text-700{font-size:2.36rem}.md\:text-800{font-size:3.15rem}.md\:text-900{font-size:4.2rem}.md\:text-major{font-size:5.6rem}}@media (min-width:62em){.lg\:flow-space-300{--flow-space:0.75rem}.lg\:flow-space-400{--flow-space:1rem}.lg\:flow-space-500{--flow-space:1.33rem}.lg\:flow-space-600{--flow-space:1.77rem}.lg\:flow-space-700{--flow-space:2.36rem}.lg\:flow-space-800{--flow-space:3.15rem}.lg\:flow-space-900{--flow-space:4.2rem}.lg\:flow-space-major{--flow-space:5.6rem}.lg\:gap-top-300{margin-top:.75rem}.lg\:gap-top-400{margin-top:1rem}.lg\:gap-top-500{margin-top:1.33rem}.lg\:gap-top-600{margin-top:1.77rem}.lg\:gap-top-700{margin-top:2.36rem}.lg\:gap-top-800{margin-top:3.15rem}.lg\:gap-top-900{margin-top:4.2rem}.lg\:gap-top-major{margin-top:5.6rem}.lg\:measure-micro{max-width:10ch}.lg\:measure-compact{max-width:30ch}.lg\:measure-short{max-width:40ch}.lg\:measure-long{max-width:65ch}.lg\:text-300{font-size:.75rem}.lg\:text-400{font-size:1rem}.lg\:text-500{font-size:1.33rem}.lg\:text-600{font-size:1.77rem}.lg\:text-700{font-size:2.36rem}.lg\:text-800{font-size:3.15rem}.lg\:text-900{font-size:4.2rem}.lg\:text-major{font-size:5.6rem}}*,::after,::before{box-sizing:border-box}ol[class],ul[class]{padding:0;list-style:none}blockquote,body,dd,dl,figure,h1,h2,h3,h4,ol[class],p,ul[class]{margin:0}html{scroll-behavior:smooth}a:not([class]){text-decoration-skip-ink:auto;color:currentColor;text-decoration-color:#57b9fa}img{max-width:100%;display:block}button,input,select,textarea{font:inherit}@media (prefers-reduced-motion:reduce){*{animation-duration:10ms!important;animation-iteration-count:1!important;transition-duration:10ms!important;scroll-behavior:auto!important}}:root{--flow-space:1.77rem}body{min-height:100vh;text-rendering:optimizeSpeed;background:#fff;color:#000;line-height:1.5;font-size:1.33rem;font-family:Lora,Georgia,serif}:focus{outline:#3f3f3f dotted 2px;outline-offset:.25rem}main:focus{outline:0}h1,h2,h3,h4{font-weight:900;font-family:Raleway,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;line-height:1.1}::selection{color:#fff;background:rgba(0,0,0,.99)}::-webkit-scrollbar{height:1rem}::-webkit-scrollbar-track{background-color:transparent;border:1px solid #3f3f3f;border-radius:.25rem}::-webkit-scrollbar-thumb{background-color:#131313;border-radius:.25rem}.definition-group{display:grid;grid-template-columns:max-content 1fr;grid-gap:.5rem 1.5rem}.tags-list{display:flex;flex-wrap:wrap;align-items:flex-start}.tags-list[class]{margin-inline-start:-1rem}.tags-list>*{padding-top:1rem;padding-inline-start:1rem}.site-foot{background-color:#131313;color:#fff;padding:1.33rem 0 2.36rem;margin-top:1.33rem;text-align:center;font-size:1rem}.site-head{padding:1.77rem 0}.site-head__inner{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.site-head__brand{flex-shrink:0;margin-inline-end:1.77rem;transform:translateY(.25rem)}.site-head__brand svg{width:100px}.site-head__nav{padding:.75rem 0}@media (min-width:37em){.site-head__brand svg{width:160px}}.nav{line-height:1;font-weight:900;margin-top:-1rem;margin-inline-start:-1rem}.nav__list{display:flex;flex-wrap:wrap}.nav__list>*{padding-top:1rem;padding-inline-start:1rem}.nav a{text-decoration:none;display:block;position:relative}.nav a[aria-current=page]:before,.nav a[data-state=active]:before{content:"";display:block;width:100%;height:.25rem;position:absolute;top:100%;left:0;margin-top:.25rem;background:#4ba1da}.post-list{display:flex;flex-direction:column;justify-content:flex-start}.post-list ul{list-style:none;padding:0}.post-list *{margin-top:0;margin-bottom:0}.post-list *+*{margin-top:1.33rem}.post img{max-width:40ch;margin:0 auto}.post figcaption{color:#3f3f3f;font-style:italic;text-align:center}.post time{color:#4ba1da}.canvas-container{width:600px;height:337.5px;margin-left:auto;margin-right:auto}.canvas-container canvas{width:100%;aspect-ratio:1.7777777778;display:block}.dot-shadow{--dot-shadow-size:0.75rem;position:relative}.dot-shadow::before{content:"";display:block;width:calc(100% + var(--dot-shadow-size) * 2);height:calc(100% + var(--dot-shadow-size) * 2);background-image:url("data:image/svg+xml,%3Csvg width='6px' height='6px' viewBox='0 0 6 6' version='1.1' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle fill='%23CAC6B8' cx='1' cy='5' r='1'%3E%3C/circle%3E%3Ccircle fill='%23CAC6B8' cx='4' cy='2' r='1'%3E%3C/circle%3E%3C/svg%3E%0A");position:absolute;top:calc(var(--dot-shadow-size) * -1);left:calc(var(--dot-shadow-size) * -1);z-index:-1}.flow>*+*{margin-top:var(--flow-space,1.77rem)}.frame{position:relative}.frame::before{content:"";pointer-events:none;width:100%;height:100%;position:absolute;top:-.25rem;left:-.25rem;border:.125rem solid #131313;z-index:1}.frame[data-frame=primary]::before{border-color:#513aa6}.frame[data-frame=secondary]::before{border-color:#6ac2b6}.frame[data-frame=quaternary]::before{border-color:#ff7f5c}.frame[data-frame=quinary]::before{border-color:#57b9fa}.panel{margin:2.36rem 0;padding:2.36rem 0}@media (min-width:37em){.frame::before{top:-.5rem;left:-.5rem;border-width:.25rem}.panel{margin:3.15rem 0;padding:3.15rem 0}}.dot-shadow::before,.frame::before,.radius{border-radius:.25rem}.site-wrap{overflow-x:hidden;position:relative;display:flex;min-height:100vh;flex-direction:column}.visually-hidden{border:0;clip:rect(0 0 0 0);height:auto;margin:0;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap}.wrapper{max-width:70rem;padding:0 1.33rem;margin-left:auto;margin-right:auto;position:relative}.site-content{flex:1}.stack{display:flex;flex-direction:column;justify-content:flex-start}.stack *{margin-top:0;margin-bottom:0}.stack *+*{margin-top:1.33rem}</style>

   
   

   <link rel="stylesheet" media="print" href="/fonts/fonts.css?da82-665c-2382" onload="this.media='all'" />

   
   
</head>
<body>
   <div class="site-wrap">
      <header role="banner" class="site-head">
   <div class="wrapper">
      <div class="site-head__inner">
         <nav class="nav | site-head__nav | font-sans" aria-label="Primary">
            <ul class="nav__list">
               
               <li>
                  <a href="/webgl-ray-tracer/" 
                  >Project</a>
               </li>
               
               <li>
                  <a href="/webgl-ray-tracer/blog"  data-state="active"
                  >Blog</a>
               </li>
               
            </ul>
         </nav>
      </div>
   </div>
</header>

      <main tabindex="-1" id="main-content" class="site-content">
         
<div class="wrapper">
  <article>
    
      <div>
        
<div class="post-list">
   <ul>
      
      
      
         <li>
            <article class="post">
               <h1>More spheres</h1>
               <time datetime="2022-05-29T00:00:00.000Z">29th of May 2022</time>
               <p>I added some basic support in the shader for more than one sphere. Took me a while to figure out that you have to add an &quot;out&quot; qualifier to function's input parameters that are to be changed, similar to pass-by-reference in c++.</p>
<figure><img src="../images/ground.png" alt="Now with more ground"><figcaption>Now with some ground.</figcaption></figure>

            </article>
         </li>
         
      
      
         <li>
            <article class="post">
               <h1>Rendering a sphere</h1>
               <time datetime="2022-05-27T00:00:00.000Z">27th of May 2022</time>
               <p>I've been trying for some time to get something to work that I saw in another implementation of a <a href="https://madebyevan.com/webgl-path-tracing/">ray tracer by Evan Wallace</a>. He renders the output from the fragment shader to a texture and then on the next render he switches to another texture which uses the results from the first to create a more detailed render. This means that the wuality gets better and better as time goes, unless you move the scene which means that the program has to recalculate the shaders and start rendering from scratch. I couldn't get this to work right now so I've started just implementing <a href="https://raytracing.github.io/books/RayTracingInOneWeekend.html">Ray Tracing in One Weekend</a> code directly in the fragment shader and just render it to a rectangular surface.</p>
<figure><img src="../images/blue_skies.png" alt="A blue sky"><figcaption>A blue sky.</figcaption></figure>
<p>I had to make some small changes to get things to work in WebGL, but transferring the code has been very straightforward so far. To calculate a ray going from the camera through each pixel I just run the fragment shader and use the gl_FragCoord variable to get the window relative x and y coordinates of each pixel (which I divide by the window width and height respectively).</p>
<figure><img src="../images/fiery_ball_in_the_sky.png" alt="A blue sky"><figcaption>A fiery red ball in the sky.</figcaption></figure>
<p>I've also made use of some of the inbuilt functions in glsl like mix() instead of writing my own linear interpolation function.</p>
<figure><img src="../images/normal_ball.png" alt="A blue sky"><figcaption>A sphere colored according to the directions of its surface normals.</figcaption></figure>
<p>The next step will be to setup javascript classes for handling spheres and making the code a bit more general.</p>

            </article>
         </li>
         
      
      
         <li>
            <article class="post">
               <h1>Hello world</h1>
               <time datetime="2022-05-10T00:00:00.000Z">10th of May 2022</time>
               <p>I started working on rendering an image in webGL today and got this &quot;hello world&quot; example working.</p>
<figure><img src="../images/hello_world.png" alt="Rainbow colored image"><figcaption>&quot;Hello world!&quot; Graphics edition</figcaption></figure>
<p>So far I've been learning how webGL works from the site <a href="https://webglfundamentals.org/webgl/lessons/webgl-fundamentals.html">WebGL Fundamentals</a> and I've adapted the code from the examples there to get this image from section 2.2 in <a href="https://raytracing.github.io/books/RayTracingInOneWeekend.html#outputanimage">Ray Tracing in One Weekend</a>. It's really nice that webGL handles all the interpolations and that I &quot;only&quot; have to hand it the positions and color data.</p>
<p>I also found a nice library from the <a href="https://github.com/KhronosGroup/WebGLDeveloperTools">Khronos Group for debugging webGL</a> which let's me output all the function calls by webGL and any errors that might occur.</p>

            </article>
         </li>
         
      
      
         <li>
            <article class="post">
               <h1>Initial setup</h1>
               <time datetime="2022-05-03T00:00:00.000Z">3rd of May 2022</time>
               <p>This is my first entry on this blog. I'll be trying to write down notes here on my development of a ray tracer in WebGL for the course 'Computer graphics and interactions' at KTH. I've set this site up so that you can see the current state of the project on the front page and read about it in this blog.</p>
<p>Currently the canvas on the front page is only rendering a black screen, but the next step is to start rendering something a little more interesting.</p>

            </article>
         </li>
         
      </ul>
   </div>


      </div>
    
  </article>
</div>

      </main>

      <footer role="contentinfo" class="site-foot">
         <div class="wrapper">
            <p>Project site for the course DH2323 Computer Graphics and Interactions. Made by Erik Bauer.</p>
         </div>
      </footer>
   </div>
</body>

<script src="/webgl-ray-tracer/scripts/gl-matrix-min.js"></script>
<script src="/webgl-ray-tracer/scripts/webgl-debug.js"></script>
<script src="/webgl-ray-tracer/scripts/renderer.js"></script>

</html>